<html lang="en">
<head>
    <meta charset="utf-8">
    <title>D3 Page Template</title>
    <script type="text/javascript" src="d3.js"></script>
</head>
<body>
<script type="text/javascript">
    var dataset;
    var years;
    var numbers;
    var rates;
    d3.csv("HomicideDataset.csv", 0, function (data) {
        dataset = data;
        bargraph();
    });

    function bargraph() {
        console.log(dataset);
        var width = 1920;
        var height = 1080;
        var svg = d3.select("body").append("svg");
        svg.append("width", width);
        svg.append("height", height);
        svg.selectAll("rect").data(dataset).enter().append("rect").attr("height", function (d) { return d.Rate * 10 }).attr("width", 10).attr("x", function (d, i) { return 15 * i }).attr("y",function(d,i){return height-d.Rate*10});
        svg.selectAll("text").data(dataset).enter().append("text").text(function (d) { return d.Rate }).attr("x", function (i) { return 15 * i }).attr("y", function (d) { return d.Rate*10}).attr("font-size","10px").attr("text-anchor","middle");
    }

</script>
</body>
</html>
